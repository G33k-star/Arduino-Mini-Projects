//To simulate a smart light with a IR Remote.

#include <IRremote.hpp> 
const int RECV_PIN = 11;    // Pin connected to IR Receiver OUT
int redled = 7;
int blueled = 6;
int greenled = 5;int all = 5 & 6 & 7;

void setup() {
  Serial.begin(9600);
  IrReceiver.begin(RECV_PIN, ENABLE_LED_FEEDBACK);  // New init
  pinMode(redled, OUTPUT);
  pinMode(blueled, OUTPUT);
  pinMode(greenled, OUTPUT);
}

void loop() {
  if (IrReceiver.decode()) {
    unsigned long code = IrReceiver.decodedIRData.decodedRawData;
    Serial.print("Received IR code: ");
    Serial.println(code, HEX);
	
     //Turn off all LEDs with Power Button
    if (code == 0xFF00BF0) {
      digitalWrite(all, LOW);
     
    }
    
    // Red LED with button "1"
    if (code == 0xEF10BF00) {
      digitalWrite(redled, !digitalRead(redled));
      digitalWrite(blueled, LOW);
      digitalWrite(greenled, LOW);
  
    }
    // Blue LED with button "2"
    if (code == 0xEE11BF00){
      digitalWrite(blueled, !digitalRead(blueled));
      digitalWrite(redled, LOW);
      digitalWrite(greenled, LOW);
     
    }
   
    // Green LED with button "3"
    if (code == 0xED12BF00){
      digitalWrite(greenled, !digitalRead(greenled));
      digitalWrite(redled, LOW);
      digitalWrite(blueled, LOW);
    }
    

    IrReceiver.resume();  // Prepare to receive the next value
  }
}
